#!/usr/bin/perl

$tlkw=shift;

print "/* DO NOT EDIT THIS FILE - it is automatically generated. */\n";

while (<>) {
   s/(#include\s+)"nauty.h"/$1"tnauty.h"/g;
   s/(#include\s+)"nausparse.h"/$1"tnausparse.h"/g;
   
   s/(static\s+)
     (FILE|boolean|dispatchvec|graph|int|long|permutation|
        set|short|shortish|size_t|statsblk|tcnode|type|unsigned)
     (\s+[^(;,=]+[;,=])
    /$1$tlkw\ $2$3/gx;

   print;
}
